<h1>Дипломные проект "Сервис авторизации по номеру телефона".</h1> 

<h3>Использованный стек технологий:</h3>
* Python
* Django Rest Framework (DRF)
* PostgreSQL

<h3>Описание:</h3>

В приложении реализована авторизация по номеру телефона.
После отправки в запросе номера телефона генерируется 4х значный код авторизации.
При повторном запросе вводится полученный код. В случае совпадения данных авторизация успешна.

Ранее не авторизованный пользователь записывается в базу.
Ему также автоматически присваивается 6-значный код для приглашения других пользователей (invite код). 
При повторной авторизации присваивается новый 4х значный код авторизации.

Пользователю доступно получение и редактирование своего профиля.
Реализована возможность применить один чужой invite-код. 
Так же в API профиля доступен список пользователей, которые ввели invite-код
текущего пользователя.

<h3>Установка и запуск приложения:</h3>

* Склонируйте проект на свое устройство.
* Настройте виртуальное окружение и установите зависимости из ***requirements.txt*** .
* Создайте в корне проекта файл ***.env*** и заполните его по образцу из файла .env.sample .
* Примените миграции командой ***python manage.py migrate***
* Для запуска проекта выполните команду ***python manage.py runserver***

<h3>Описание API запросов:</h3>

1. Авторизация пользователя:
    * HTTP метод POST отправляет номер телефона для запроса кода на авторизацию
      * url http://127.0.0.1:8000/api/users/login/
      * parameters: 
        * phone - номер телефона в формате (+7 ....)
        * {'phone': 'номер телефона'}
    * HTTP метод PUT отправляет на сервер полученный пользователем код авторизации
      * url http://127.0.0.1:8000/api/users/login/
      * parameters: 
        * auth_code - 4-х значный код авторизации
        * {'auth_code': 'код авторизации'}

2. Получение токена для аутентификации пользователя.
   * HTTP метод POST
     * url http://127.0.0.1:8000/api/users/token/
     * parameters:
       * phone - номер телефона в формате (+7 ....)
       * password - 4-х значный код авторизации
       * {'phone': 'номер телефона', 'password': 'код авторизации'}

3. Получение информации из профиля пользователя.
   * HTTP метод GET (необходимо передать в Headers Bearer Token).
      * url http://127.0.0.1:8000/api/users/ {user_id}/

4. Обновление информации в профиле пользователя.
   * HTTP метод PUT (необходимо передать в Headers Bearer Token).
      * url http://127.0.0.1:8000/api/users/ {user_id}/
      * parameters:
        * phone - номер телефона (обязательное поле)
        * avatar - аватар
        * email - электронная почта
        * city - город
        * telegram_id - телеграм ID
        * referral_code - invite-код от другого пользователя
        * {'phone': 'номер телефона', 'referral_code': 'invite-код'}

5. Удаление профиля пользователя.
   * HTTP метод DELETE (необходимо передать в Headers Bearer Token).
     *  url http://127.0.0.1:8000/api/users/ {user_id}/

6. Просмотр зарегистрированных пользователей модератором или администратором.
   * HTTP метод GET (необходимо передать в Headers Bearer Token).
     *  url http://127.0.0.1:8000/api/users/list/

Дополнительные URL:
* http://127.0.0.1:8000/admin/ панель администратора

    Администратора можно создать командой ***python manage.py createsuperuser***


* http://127.0.0.1:8000/swagger/ автодокументация swagger
* http://127.0.0.1:8000/redoc/ автодокументация redoc